{% extends 'base.html' %}
{% block content %}
<section class="hero">
  <h1>Welcome to MediPharma</h1>
  <p>Your one-stop solution for medicine ordering and management.</p>
  <p>Search, compare prices, add to cart, and checkout securely.</p>
  <a href="{{ url_for('shop.medicines') }}" class="btn">Browse medicines</a>
</section>
<!-- <h1>Welcome to MediPharma</h1> -->

{% if session.get('role') == 'customer' %}
<nav>
  <ul>
    <li><a href="{{ url_for('customer.book_appointment') }}">Book Appointment</a></li>
  </ul>
</nav>
{% endif %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, msg in messages %}
    <script>
      // Show flashed messages as a popup modal
      var modal = document.createElement('div');
      modal.style.position = 'fixed';
      modal.style.top = '0';
      modal.style.left = '0';
      modal.style.width = '100vw';
      modal.style.height = '100vh';
      modal.style.background = 'rgba(0,0,0,0.4)';
      modal.style.zIndex = '9999';
      modal.innerHTML = `
        <div style="background:#fff;padding:2em;border-radius:10px;max-width:350px;margin:10% auto;text-align:center;">
          <span style="font-size:22px;color:#16a34a;">âœ”</span>
          <p style="margin-top:10px;">{{ msg }}</p>
          <button onclick="document.body.removeChild(this.parentNode.parentNode)" style="margin-top:15px;padding:8px 18px;border:none;background:#16a34a;color:#fff;border-radius:6px;cursor:pointer;">OK</button>
        </div>
      `;
      document.body.appendChild(modal);
    </script>
    {% endfor %}
  {% endif %}
{% endwith %}
{% endblock %}